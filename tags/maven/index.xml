<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Maven on {code that works}</title>
    <link>https://sadique.io/tags/maven/?utm_source=site&amp;utm_medium=feed</link>
    <description>Recent content in Maven on {code that works}</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Fri, 18 Aug 2017 04:00:43 +0000</lastBuildDate>
    <atom:link href="https://sadique.io/tags/maven/?utm_source=site&amp;utm_medium=feed" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Uploading a standalone artifact to Nexus 3</title>
      <link>https://sadique.io/blog/2017/08/18/uploading-a-standalone-artifact-to-nexus-3/?utm_source=site&amp;utm_medium=feed</link>
      <pubDate>Fri, 18 Aug 2017 04:00:43 +0000</pubDate>
      
      <guid>https://sadique.io/blog/2017/08/18/uploading-a-standalone-artifact-to-nexus-3/?utm_source=site&amp;utm_medium=feed</guid>
      <description>&lt;p&gt;This is one of those &amp;ldquo;I had to figure out how to do this today, so the next time I google this, I have a place to look&amp;rdquo; blog posts.
Today, I had to upload a zip file as a build artifact to our Nexus 3 repository. The zip file had been generated by custom shell scripts that did not have a Maven, Ivy or Gradle projects to wrap them.&lt;/p&gt;
&lt;p&gt;The obvious way to do this seemed like using the Nexus 3 REST API, invoked like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;curl -v -u &amp;lt;username&amp;gt;:&amp;lt;password&amp;gt; \
   --upload-file artifact.zip \
   https://&amp;lt;nexus-server&amp;gt;/repository/maven-releases/com/example/artifact/1.0.0/artifact-1.0.0.zip
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This works and the file is available in the repository. However, this method has the following shortcomings:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;There will not be a &lt;code&gt;POM&lt;/code&gt; file generated for this artifact.&lt;/li&gt;
&lt;li&gt;The maven metadata associated with this artifact will not be updated.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Using Maven Deploy Plugin&amp;rsquo;s &lt;a href=&#34;http://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html&#34;&gt;deploy file mojo&lt;/a&gt; in this situation will help us satisfy the above requirements. The mojo is capable of running in arbitrary directories without the need for a &lt;code&gt;pom.xml&lt;/code&gt; to be present. However, it does expect you to specify authentication parameters in a &lt;code&gt;settings.xml&lt;/code&gt; file. In my situation, I did not want to write credentials in a &lt;code&gt;settings.xml&lt;/code&gt;, so I had to improvise.&lt;/p&gt;
&lt;p&gt;This is what I ended up using and it works like a charm:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mvn deploy:deploy-file \
    -DgroupId=com.example \
    -DartifactId=artifact \
    -Dversion=1.0.0 \
    -Dpackaging=zip \
    -Dfile=artifact.zip \
    -DgeneratePom=true \
    -DupdateReleaseInfo=true \
    -Durl=&amp;quot;https://${NEXUS_USERNAME}:${NEXUS_PASSWORD}@&amp;lt;nexus-server&amp;gt;/repository/maven-releases/&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>
